<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Nika Travel</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/frontend.css') }}">
    {% if request.path.startswith('/admin') %}
        <link rel="stylesheet" href="{{ url_for('static', filename='css/admin.css') }}">
    {% endif %}

    <!-- üé® –í–°–¢–†–û–ï–ù–ù–´–ô –°–¢–ò–õ–¨ –°–ê–ô–¢–ê -->
    <style>
      body {
        margin: 0;
        font-family: 'Poppins', sans-serif;
        background-color: #f9f3eb;
        color: #2b2b2b;
      }

      /* üîù –•–µ–¥–µ—Ä */
      .header {
        position: sticky;
        top: 0;
        z-index: 999;
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 18px 40px;
        background: rgba(255, 255, 255, 0.7);
        backdrop-filter: blur(10px);
        box-shadow: 0 2px 10px rgba(0,0,0,0.1);
      }
      .header-logo {
        font-size: 28px;
        font-weight: 700;
        text-decoration: none;
        color: #d6ae7b;
        transition: 0.3s;
      }
      .header-logo:hover {
        color: #c19668;
      }

      /* –ú–µ–Ω—é */
      .nav-links {
        display: flex;
        gap: 25px;
      }
      .nav-links a {
        text-decoration: none;
        color: #333;
        font-weight: 500;
        position: relative;
        transition: color 0.3s;
      }
      .nav-links a::after {
        content: "";
        position: absolute;
        bottom: -4px;
        left: 0;
        width: 0%;
        height: 2px;
        background: linear-gradient(135deg, #eacda3, #d6ae7b);
        transition: 0.3s;
      }
      .nav-links a:hover {
        color: #d6ae7b;
      }
      .nav-links a:hover::after {
        width: 100%;
      }

      /* –ë—É—Ä–≥–µ—Ä */
      .burger {
        display: none;
        flex-direction: column;
        gap: 5px;
        cursor: pointer;
      }
      .burger div {
        width: 25px;
        height: 3px;
        background: #333;
        border-radius: 3px;
      }

      .footer {
        text-align: center;
        padding: 40px 20px;
        font-size: 15px;
        background: rgba(255, 255, 255, 0.4);
        backdrop-filter: blur(10px);
        color: #444;
        margin-top: 80px;
        border-top: 1px solid rgba(255, 255, 255, 0.3);
      }
	  
	  /* ‚ùå —Å–∫—Ä—ã—Ç–æ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é (–ü–ö) */
      .mobile-bottom-nav {
        display: none;
      }

        body {
          padding-bottom: 72px;
        }
      }

      /* üå¥ –ê–Ω–∏–º–∞—Ü–∏—è –ø–æ—è–≤–ª–µ–Ω–∏—è –∫–æ–Ω—Ç–µ–Ω—Ç–∞ */
      [data-aos] {
        opacity: 0;
        transform: translateY(30px);
        transition: all 0.7s ease;
      }
      [data-aos].aos-animate {
        opacity: 1;
        transform: translateY(0);
      }
	 
      .bottom-nav {
        position: fixed;
        bottom: 0;
        left: 0;
        right: 0;
        height: 70px;
        background: rgba(255, 255, 255, 0.95);

        display: none;                 /* üî• –í–ê–ñ–ù–û */
        justify-content: space-around;
        align-items: center;
  
        border-top: 1px solid rgba(0,0,0,0.08);
        z-index: 1000;
      }

     .nav-item {
       display: flex;
       flex-direction: column;
       align-items: center;
       font-size: 11px;
       color: #999;
       text-decoration: none;
     }

     .nav-item img {
       width: 26px;
       height: 26px;
       margin-bottom: 4px;
     }

     .nav-item.active span {
       color: #c89b63; /* –ø–µ—Å–æ—á–Ω—ã–π —Ñ–∏—Ä–º–µ–Ω–Ω—ã–π */
     }
	 
     @media (max-width: 768px) {
       .bottom-nav {
         display: flex;          /* üëà –≤–∫–ª—é—á–∞–µ–º –¢–û–õ–¨–ö–û –ù–ê –ú–û–ë–ò–õ–ö–ï */
         flex-direction: row;    /* üëà –Ø–í–ù–û –≥–æ–≤–æ—Ä–∏–º: –í –†–Ø–î */
       }

       body {
         padding-bottom: 80px;
       }

       .header {
         display: none !important;
       }
     }

    </style>

    <!-- Aviasales -->
    {% if not request.path.startswith('/admin') %}
    <script data-noptimize="1" data-cfasync="false" data-wpfc-render="false">
      (function () {
          var script = document.createElement("script");
          script.async = 1;
          script.src = 'https://emrld.cc/NDQ4ODQ4.js?t=448848';
          document.head.appendChild(script);
      })();
    </script>
    {% endif %}
</head>

<body>
<link rel="stylesheet" href="https://unpkg.com/swiper/swiper-bundle.min.css" />
{% if not request.path.startswith('/admin') %}
<div class="header">
  <a href="{{ url_for('index') }}" class="header-logo">Nika Travel</a>

  <div class="burger" onclick="toggleMenu()">
    <div></div><div></div><div></div>
  </div>

  <div class="nav-links" id="navMenu">
    <a href="{{ url_for('index') }}">–ì–ª–∞–≤–Ω–∞—è</a>
    <a href="{{ url_for('about') }}">–û –Ω–∞—Å</a>
    <a href="{{ url_for('filter_page') }}">–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ç—É—Ä—ã</a>
    <a href="{{ url_for('flights') }}">–ê–≤–∏–∞–±–∏–ª–µ—Ç—ã</a>
    <a href="{{ url_for('contacts') }}">–ö–æ–Ω—Ç–∞–∫—Ç—ã</a>
  </div>
</div>
{% endif %}

{% block content %}{% endblock %}

<footer class="footer">
  Nika Travel ¬© 2025
</footer>

<!-- ===== MOBILE BOTTOM NAV ===== -->
<nav class="bottom-nav">

  <a href="/" class="nav-item {% if active_page == 'home' %}active{% endif %}">
    <img src="{{ url_for('static', filename='knopki/' + ('home_active.png' if active_page == 'home' else 'home_pasive.png')) }}">
    <span>–ì–ª–∞–≤–Ω–∞—è</span>
  </a>

  <a href="/favorites" class="nav-item {% if active_page == 'favorites' %}active{% endif %}">
    <img src="{{ url_for('static', filename='knopki/' + ('love_active.png' if active_page == 'favorites' else 'love_pasive.png')) }}">
    <span>–ò–∑–±—Ä–∞–Ω–Ω–æ–µ</span>
  </a>

  <a href="/my-requests" class="nav-item {% if active_page == 'requests' %}active{% endif %}">
    <img src="{{ url_for('static', filename='knopki/' + ('zayavka_active.png' if active_page == 'requests' else 'zayavka_pasive.png')) }}">
    <span>–ó–∞—è–≤–∫–∏</span>
  </a>

  <a href="/profile" class="nav-item {% if active_page == 'profile' %}active{% endif %}">
    <img src="{{ url_for('static', filename='knopki/' + ('login_active.png' if active_page == 'profile' else 'login_pasive.png')) }}">
    <span>–ü—Ä–æ—Ñ–∏–ª—å</span>
  </a>

</nav>

<script>
function toggleMenu() {
  const menu = document.getElementById('navMenu');
  menu.classList.toggle('show');
}
</script>

<script src="https://unpkg.com/swiper/swiper-bundle.min.js"></script>
<script>
document.addEventListener('DOMContentLoaded', function () {
  new Swiper('.banner-swiper', {
    loop: true,
    grabCursor: true, // —Å–≤–∞–π–ø –ø–∞–ª—å—Ü–µ–º –∏–ª–∏ –º—ã—à–∫–æ–π
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    autoplay: false // ‚ùå –æ—Ç–∫–ª—é—á–∞–µ–º –∞–≤—Ç–æ–ø—Ä–æ–∫—Ä—É—Ç–∫—É
  });
});
</script>

<script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>
<link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
<script>
  AOS.init({ duration: 900, once: true });
</script>

<script>
document.addEventListener("scroll", () => {
  document.querySelectorAll("section h2").forEach(el => {
    const rect = el.getBoundingClientRect();
    if (rect.top < window.innerHeight - 100) el.classList.add("visible");
  });
});
</script>

<script>
document.addEventListener('DOMContentLoaded', function () {
  /* –ë–∞–Ω–Ω–µ—Ä */
  new Swiper('.banner-swiper', {
    loop: true,
    grabCursor: true,
    pagination: {
      el: '.swiper-pagination',
      clickable: true,
    },
    autoplay: false
  });
  
  new Swiper('.kaspi-swiper', {
    slidesPerView: 'auto',
    spaceBetween: 14,
    freeMode: true,
    grabCursor: true
  });

  /* –ú–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –ø–æ—Å–µ—Ç–∏—Ç—å */
  new Swiper('.places-swiper', {
    loop: false,
    slidesPerView: 3,       // üëà –ø–æ–∫–∞–∑—ã–≤–∞–µ–º 3 –∫–∞—Ä—Ç–æ—á–∫–∏
    spaceBetween: 20,       // üëà —Ä–∞—Å—Å—Ç–æ—è–Ω–∏–µ –º–µ–∂–¥—É –Ω–∏–º–∏
    navigation: {           // —Å—Ç—Ä–µ–ª–æ—á–∫–∏ —É–∂–µ –µ—Å—Ç—å –≤ HTML
      nextEl: '.swiper-button-next',
      prevEl: '.swiper-button-prev',
    },
    breakpoints: {          // –∞–¥–∞–ø—Ç–∏–≤
      0:   { slidesPerView: 1 },
      768: { slidesPerView: 2 },
      1024:{ slidesPerView: 3 }
    }
  });
});
</script>

<script>
document.addEventListener('scroll', () => {
  const home = document.querySelector('.nav-item[href="/"]');
  if (!home) return;
  if (window.scrollY < 200) home.classList.add('active');
  else home.classList.remove('active');
});
</script>

<script>
function toggleFav(id){
  let fav = JSON.parse(localStorage.getItem('fav')||'[]');
  fav = fav.includes(id) ? fav.filter(x=>x!==id) : [...fav, id];
  localStorage.setItem('fav', JSON.stringify(fav));
}
</script>

</body>
</html>
