{% extends 'base.html' %}
{% block content %}

<style>
/* === –ì–õ–ê–í–ù–´–ô –ë–ê–ù–ù–ï–† –°–û –°–í–ê–ô–ü–û–ú === */
.banner-swiper {
  width: 100%;
  height: 80vh; 
  overflow: hidden;
  position: relative;
  border-radius: 16px;
  margin-bottom: 30px;
}

/* –°–ª–∞–π–¥ */
.banner-slide {
  position: relative;
  width: 100%;
  height: 100%;
}

/* –ö–∞—Ä—Ç–∏–Ω–∫–∞ */
.banner-slide img {
  width: 100%;
  height: 100%;
  object-fit: cover;  
  object-position: center;  /* —Ü–µ–Ω—Ç—Ä–∏—Ä—É–µ—Ç –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ */
  border-radius: 16px;
  display: block;
}

/* –¢—ë–º–Ω—ã–π –≥—Ä–∞–¥–∏–µ–Ω—Ç —Å–Ω–∏–∑—É, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –ª—É—á—à–µ —á–∏—Ç–∞–ª–∞—Å—å */
.banner-slide::after {
  content: "";
  position: absolute;
  bottom: 0;
  left: 0;
  width: 100%;
  height: 40%;
  background: linear-gradient(to top, rgba(0,0,0,0.45), rgba(0,0,0,0));
  border-radius: 16px;
  pointer-events: none;
}

/* –ö–Ω–æ–ø–∫–∞ */
.banner-btn {
  position: absolute;
  bottom: 35px;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(106, 80, 55, 0.9);
  color: #fff;
  padding: 14px 30px;
  border-radius: 10px;
  font-size: 18px;
  font-weight: 600;
  text-decoration: none;
  box-shadow: 0 4px 10px rgba(0,0,0,0.3);
  transition: all 0.3s ease;
  z-index: 2;
}

.banner-btn:hover {
  background: rgba(85, 64, 44, 0.95);
  transform: translateX(-50%) translateY(-3px);
}

/* –ö—Ä—É–∂–æ—á–∫–∏ (–ø–∞–≥–∏–Ω–∞—Ü–∏—è) */
.swiper-pagination {
  bottom: 12px !important;
  text-align: center;
  z-index: 3;
}
.swiper-pagination-bullet {
  background: rgba(255,255,255,0.8);
  opacity: 1;
  width: 9px;
  height: 9px;
  margin: 0 4px !important;
  transition: 0.3s;
}
.swiper-pagination-bullet-active {
  background: #d6ae7b;
  transform: scale(1.25);
}

/* === –ê–î–ê–ü–¢–ò–í –î–õ–Ø –ú–û–ë–ò–õ–¨–ù–´–• === */
@media (max-width: 768px) {
  .banner-swiper {
    height: auto;
    max-height: 350px;
    border-radius: 0;
  }

  .banner-slide img {
    width: 100%;
    height: auto;
    max-height: 350px;
    border-radius: 0;
    object-fit: cover;
  }

  .banner-slide::after {
    border-radius: 0;
    height: 45%;
  }

  .banner-btn {
    bottom: 25px;
    font-size: 16px;
    padding: 10px 24px;
    border-radius: 8px;
  }

  .swiper-pagination {
    bottom: 10px !important;
  }
}

/* === –°–¢–ò–õ–¨ –ö–ê–†–¢–û–ß–ï–ö === */
.card, .hotel-card, .news-slide {
  background: rgba(255,255,255,0.4);
  backdrop-filter: blur(8px);
  border: 1px solid rgba(255,255,255,0.25);
  border-radius: 16px;
  box-shadow: 0 4px 20px rgba(0,0,0,0.08);
  transition: all 0.4s ease;
  overflow: hidden;
}
.card:hover, .hotel-card:hover, .news-slide:hover {
  transform: translateY(-6px);
  box-shadow: 0 8px 25px rgba(0,0,0,0.12);
}
.card img, .hotel-card img, .news-slide img {
  width: 100%;
  height: 220px;
  object-fit: cover;
}
.card h3, .hotel-card h3, .news-slide h3 {
  text-align: center;
  color: #3b2e20;
  padding: 10px 12px 18px;
  font-weight: 600;
}

/* === –ó–ê–ì–û–õ–û–í–ö–ò –°–ï–ö–¶–ò–ô === */
section h2 {
  display: inline-block;
  position: relative;
  text-align: center;
  left: 50%;
  transform: translateX(-50%);
  font-family: 'Poppins', sans-serif;
  font-weight: 700;
  font-size: 1.8rem;
  letter-spacing: 0.5px;
  color: #fff;
  background: rgba(0, 0, 0, 0.4); /* –ø–æ–ª—É–ø—Ä–æ–∑—Ä–∞—á–Ω—ã–π —Ñ–æ–Ω */
  backdrop-filter: blur(6px);      /* —ç—Ñ—Ñ–µ–∫—Ç —Å—Ç–µ–∫–ª–∞ */
  padding: 10px 25px;
  border-radius: 12px;
  box-shadow: 0 4px 14px rgba(0, 0, 0, 0.25);
  margin: 30px auto 25px;
}

/* –í–∞—Ä–∏–∞–Ω—Ç –¥–ª—è –ø–µ—Å–æ—á–Ω–æ–≥–æ —Å—Ç–∏–ª—è (–º–æ–∂–Ω–æ –≤–∫–ª—é—á–∏—Ç—å –≤–º–µ—Å—Ç–æ —á—ë—Ä–Ω–æ–≥–æ) */
/*
section h2 {
  background: rgba(249, 243, 235, 0.7);
  color: #5c452c;
  box-shadow: 0 2px 8px rgba(0,0,0,0.1);
}
*/

/* –≠—Ñ—Ñ–µ–∫—Ç –ø–ª–∞–≤–Ω–æ–≥–æ –ø–æ—è–≤–ª–µ–Ω–∏—è –ø—Ä–∏ —Å–∫—Ä–æ–ª–ª–µ */
section h2 {
  opacity: 0;
  transform: translate(-50%, 20px);
  transition: all 0.6s ease-out;
}
section h2.visible {
  opacity: 1;
  transform: translate(-50%, 0);
}

/* üì± –ú–æ–±–∏–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è */
@media (max-width: 768px) {
  section h2 {
    font-size: 1.4rem;
    padding: 8px 16px;
  }
}

.services-cards {
  display: grid;
  grid-template-columns: repeat(2, 1fr);
  gap: 20px;
  margin: 30px 0;
}

.service-card {
  height: 160px;
  border-radius: 16px;

  background-image: inherit;     /* üî• –≤–∞–∂–Ω–æ */
  background-size: cover;
  background-position: center top;
  background-repeat: no-repeat;
  background-color: transparent; /* üî• –£–ë–ò–†–ê–ï–¢ –ü–ï–†–ï–ë–ò–í–ö–£ */

  display: flex;
  align-items: flex-end;
  padding: 12px;

  color: #fff;
  font-weight: 700;
  font-size: 15px;
  text-decoration: none;

  overflow: hidden;
}

.service-card span {
  background: rgba(0, 0, 0, 0.45); /* –ª—ë–≥–∫–∞—è –ø–æ–¥–ª–æ–∂–∫–∞ */
  padding: 6px 12px;
  border-radius: 8px;

  font-size: 14px;
  font-weight: 600;
  color: #fff;

  display: inline-block;
}

@media (max-width: 768px) {

  .services-cards {
    grid-template-columns: repeat(2, 1fr); /* üî• 2 –≤ —Ä—è–¥ */
    gap: 12px;
  }

  .service-card {
    height: 120px; /* üî• –º–µ–Ω—å—à–µ –≤—ã—Å–æ—Ç–∞ */
    padding: 8px;
  }

  .service-card span {
    font-size: 13px;
    padding: 5px 10px;
  }

}

</style>

<!-- üîπ –ë–ê–ù–ù–ï–† -->
<div class="swiper banner-swiper">
  <div class="swiper-wrapper">
    {% for banner in banners %}
      <div class="swiper-slide banner-slide">
        <img src="{{ url_for('static', filename='img/' + banner.image) }}" alt="">
        <a href="{{ url_for('filter_page') }}" class="banner-btn">–ü–æ–∏—Å–∫ –¢—É—Ä–∞</a>
      </div>
    {% endfor %}
  </div>
  <div class="swiper-pagination"></div>
</div>

<section class="services-cards">

  <a class="service-card" href="/flights"
     style="background-image:url('/static/knopki/avia.png')">
    <span></span>
  </a>

  <a class="service-card" href="/cruises"
     style="background-image:url('/static/knopki/cruiz.png')">
    <span></span>
  </a>

  <a class="service-card" href="/rail"
     style="background-image:url('/static/knopki/jd.png')">
    <span></span>
  </a>

  <a class="service-card" href="/hotels"
     style="background-image:url('/static/knopki/oteli.png')">
    <span></span>
  </a>

  <a class="service-card" href="/filter"
     style="background-image:url('/static/knopki/podbor.png')">
    <span></span>
  </a>

  <a class="service-card" href="/login"
     style="background-image:url('/static/knopki/registr.png')">
    <span></span>
  </a>

  <a class="service-card" href="/visa"
     style="background-image:url('/static/knopki/visa.png')">
    <span></span>
  </a>

  <a class="service-card" href="/admin/requests"
     style="background-image:url('/static/knopki/zayavka.png')">
    <span></span>
  </a>

</section>

<!-- üîπ –ú–ï–°–¢–ê -->
<section class="places-section">
  <h2>–ú–µ—Å—Ç–∞, –∫–æ—Ç–æ—Ä—ã–µ —Å—Ç–æ–∏—Ç –ø–æ—Å–µ—Ç–∏—Ç—å</h2>
  <div class="swiper places-swiper">
    <div class="swiper-wrapper">
      {% for place in places %}
      <div class="swiper-slide" data-aos="fade-up">
        <div class="card">
          <img src="{{ url_for('static', filename='img/' + place.image) }}" alt="{{ place.title }}">
          <h3>{{ place.title }}</h3>
          <a href="{{ url_for('place_detail', id=loop.index0) }}" class="card-button">–ü–æ–¥—Ä–æ–±–Ω–µ–µ</a>
        </div>
      </div>
      {% endfor %}
    </div>
    <div class="swiper-button-next"></div>
    <div class="swiper-button-prev"></div>
  </div>
</section>

<!-- üîπ –ù–û–í–û–°–¢–ò -->
<section class="news-section">
  <h2>–ì–ª–∞–≤–Ω—ã–µ –ù–æ–≤–æ—Å—Ç–∏</h2>
  <div class="news-slider">
    {% for n in news %}
    <a href="{{ url_for('news_detail', id=loop.index0) }}" class="news-slide" data-aos="fade-up">
      {% if n.image %}
        <img src="{{ url_for('static', filename='img/' + n.image) }}" alt="{{ n.title }}">
      {% endif %}
      <h3>{{ n.title }}</h3>
    </a>
    {% endfor %}
  </div>
</section>

<!-- üîπ –û–¢–ï–õ–ò -->
<section class="hotels-section">
  <h2>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–µ –û—Ç–µ–ª–∏</h2>
  <div class="hotels-slider">
    {% for hotel in hotels %}
    <a href="{{ url_for('hotel_detail', id=loop.index0) }}" class="hotel-card" data-aos="fade-up">
      {% if hotel.images %}
        <img src="{{ url_for('static', filename='img/' + hotel.images[0]) }}" alt="{{ hotel.title }}">
      {% endif %}
      <h3>{{ hotel.title }}</h3>
      <p style="text-align: center;">–¶–µ–Ω–∞: {{ hotel.price }} ‚Ç∏</p>
    </a>
    {% endfor %}
  </div>
</section>

{% endblock %}
